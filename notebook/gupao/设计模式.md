# 设计模式

## 策略模式 (属于行为型模式)
策略模式(Strategy Pattern),定义了一个策略,包含了可能有的所有算法族,并分别封装起来,根据客户端数据,恰到好处的使用对应的算法策略来完成. 
### 策略模式的应用场景:	

1. 系统中存在许多的类,各个类的数据处理都是为了同一个目的,不同的只是对数据的处理行为不一样.

2. 一个系统需要动态地在几个算法之间选择一个合适来处理数据.

   例如:使用策略模式,实现场景:不同支付方式(微信支付,支付宝支付等)支付购买商品.

### 策略模式的UML图:

![image-20210409130737247](C:\Users\Mengwox\AppData\Roaming\Typora\typora-user-images\image-20210409130737247.png)

### 策略模式角色类别:

1. 上下文角色(Context),完成所有策略具体实现的对象的初始化,并封装到同一个容器中.可通过指定的方式找到想要的策略(比如,使用Map作为容器,通过mapKey即可)
2. 抽象策略角色(abstract/interface), 规定策略或行为的抽象方法,不负责具体策略的实现
3. 具体策略角色(class), 完成具体策略的实现逻辑

### 策略模式的优缺点:
#### 优点:
1. 符合开闭原则
2. 减少了多重条件判断语句,if else
3. 使用策略模式提供了算法的保密性(因为各个算法都被封装了)和安全性

#### 缺点:
1. 策略模式的策略类可能很多,增加了代码复杂度

2. 客户端调用策略模式时,需要告知策略类,从而决定使用哪个具体的算法策略.

### 策略模式的使用要点:

1. 有个顶层抽象定义方法,所有的具体策略实现类都实现了该抽象方法
2. 有个全局上下文配置,所有的具体策略实现类都在这个全局上下文配置中,可以通过特定的方式拿到想要的策略

## 责任链模式 (属于行为型模式)

Chain of Responsibility Pattern, 责任链(职责链)模式,属于行为型模式:

是将链中每一个节点看作为一个对象,每个节点处理的请求均不同,且内部自动维护一个下一节点对象.当一个请求从链式的首端进入时,会沿着链的路径,依次传递给每一个链上的节点,直至节点处理这个请求结束为止.

解耦了请求与处理,用户只需将请求发送给责任链,无需关心请求在各个节点的处理细节,请求会自动沿着链的路径,顺序处理完毕.

### 责任链模式的应用场景:

1. 对同一个入参数据的处理流程,存在多个处理节点,且下一个处理节点需要等待上一个处理节点处理完毕后,再做处理.
2. 例如:OA的请假工作流,离职工作流等等.

### 责任链模式的UML结构图:

![image-20210409125412808](C:\Users\Mengwox\AppData\Roaming\Typora\typora-user-images\image-20210409125412808.png)

### 责任链模式角色类别

从上图,可以看出责任链包含2类角色:

1. 抽象处理者(IHandler):定义一个处理请求的方法,并维护一个下一个处理请求节点对象handler的引用
2. 具体处理者: 完成对请求数据User的具体处理实现细节.处理完毕后,将User转发下一个handler